---
import HomeIcon from "@assets/HomeIcon.astro";
import navlinksJson from "@data/navlinks.json";
import { t } from "i18next";

const { pathname } = Astro.url;

const navLinks = navlinksJson.contents;
---

<section class="sticky top-0 border-y py-2 bg-white shadow">
  <nav class="container">
    <ul class="flex justify-center space-x-1">
      {
        navLinks.map((navLink) => {
          const { name, href } = navLink;
          return (
            <li>
              <a
                href={href}
                class={`flex items-center px-8 py-2 rounded-full transition ${
                  (pathname.startsWith(href) && href !== "/") ||
                  pathname === href
                    ? "bg-p text-white"
                    : ""
                } hover:text-white hover:bg-p`}
              >
                {href === "/" && (
                  <div class="w-5 h-5 mr-2">
                    <HomeIcon />
                  </div>
                )}
                {t(name)}
              </a>
            </li>
          );
        })
      }
    </ul>
  </nav>
</section>
